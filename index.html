<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Smart Expense Tracker</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-20px); }
        }
        .float-animation { animation: float 6s ease-in-out infinite; }
        .blob {
            animation: blob 7s infinite;
        }
        @keyframes blob {
            0%, 100% { transform: translate(0px, 0px) scale(1); }
            33% { transform: translate(30px, -50px) scale(1.1); }
            66% { transform: translate(-20px, 20px) scale(0.9); }
        }
        .glass {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
    </style>
</head>
<body class="bg-gray-50">
    <div id="app"></div>

    <script>
        // Application State
        let state = {
            isLoggedIn: false,
            showLogin: true,
            user: null,
            expenses: [],
            showAddExpense: false,
            editingExpense: null,
            formData: {
                amount: '',
                category: 'Food',
                description: '',
                date: new Date().toISOString().split('T')[0]
            }
        };

        const categories = ['Food', 'Travel', 'Bills', 'Shopping', 'Entertainment', 'Healthcare', 'Other'];
        const categoryColors = {
            Food: '#FF6384',
            Travel: '#36A2EB',
            Bills: '#FFCE56',
            Shopping: '#4BC0C0',
            Entertainment: '#9966FF',
            Healthcare: '#FF9F40',
            Other: '#C9CBCF'
        };

        // Helper Functions
        function getTotalExpenses() {
            return state.expenses.reduce((sum, exp) => sum + exp.amount, 0);
        }

        function getCategoryTotal(category) {
            return state.expenses
                .filter(exp => exp.category === category)
                .reduce((sum, exp) => sum + exp.amount, 0);
        }

        function getSmartSuggestions() {
            const total = getTotalExpenses();
            const suggestions = [];
            
            categories.forEach(cat => {
                const categoryTotal = getCategoryTotal(cat);
                const percentage = (categoryTotal / total) * 100;
                if (percentage > 30) {
                    suggestions.push(`You spent ${percentage.toFixed(0)}% of your budget on ${cat}!`);
                }
            });

            if (total > 500) {
                suggestions.push(`Total spending this month: $${total.toFixed(2)} - Consider budgeting!`);
            }

            return suggestions;
        }

        // Actions
        function handleLogin() {
            const email = document.getElementById('loginEmail').value;
            const password = document.getElementById('loginPassword').value;
            if (email && password) {
                state.user = { name: email.split('@')[0], email: email };
                state.isLoggedIn = true;
                loadDemoData();
                render();
            }
        }

        function handleSignup() {
            const name = document.getElementById('signupName').value;
            const email = document.getElementById('signupEmail').value;
            const password = document.getElementById('signupPassword').value;
            if (name && email && password) {
                state.user = { name: name, email: email };
                state.isLoggedIn = true;
                loadDemoData();
                render();
            }
        }

        function loadDemoData() {
            const today = new Date();
            state.expenses = [
                { id: 1, amount: 45.50, category: 'Food', description: 'Grocery shopping', date: new Date(today.getTime() - 2 * 24 * 60 * 60 * 1000).toISOString().split('T')[0] },
                { id: 2, amount: 120, category: 'Bills', description: 'Electricity bill', date: new Date(today.getTime() - 5 * 24 * 60 * 60 * 1000).toISOString().split('T')[0] },
                { id: 3, amount: 35, category: 'Travel', description: 'Uber ride', date: new Date(today.getTime() - 1 * 24 * 60 * 60 * 1000).toISOString().split('T')[0] },
                { id: 4, amount: 80, category: 'Shopping', description: 'New shirt', date: new Date().toISOString().split('T')[0] },
                { id: 5, amount: 25, category: 'Food', description: 'Restaurant dinner', date: new Date().toISOString().split('T')[0] },
            ];
        }

        function handleAddExpense() {
            const amount = document.getElementById('expenseAmount').value;
            const category = document.getElementById('expenseCategory').value;
            const description = document.getElementById('expenseDescription').value;
            const date = document.getElementById('expenseDate').value;

            if (amount && category && description && date) {
                const newExpense = {
                    id: Date.now(),
                    amount: parseFloat(amount),
                    category,
                    description,
                    date
                };
                state.expenses.push(newExpense);
                state.showAddExpense = false;
                state.formData = {
                    amount: '',
                    category: 'Food',
                    description: '',
                    date: new Date().toISOString().split('T')[0]
                };
                render();
            }
        }

        function handleDeleteExpense(id) {
            state.expenses = state.expenses.filter(exp => exp.id !== id);
            render();
        }

        function handleLogout() {
            state.isLoggedIn = false;
            state.expenses = [];
            state.user = null;
            render();
        }

        // Render Functions
        function renderLandingPage() {
            return `
                <div class="min-h-screen bg-gradient-to-br from-indigo-900 via-purple-900 to-pink-800 overflow-hidden">
                    <!-- Animated Background -->
                    <div class="absolute inset-0 overflow-hidden pointer-events-none">
                        <div class="absolute top-20 left-10 w-72 h-72 bg-purple-500 rounded-full mix-blend-multiply filter blur-xl opacity-20 blob"></div>
                        <div class="absolute top-40 right-10 w-96 h-96 bg-pink-500 rounded-full mix-blend-multiply filter blur-xl opacity-20 blob" style="animation-delay: 2s"></div>
                        <div class="absolute bottom-20 left-1/3 w-80 h-80 bg-indigo-500 rounded-full mix-blend-multiply filter blur-xl opacity-20 blob" style="animation-delay: 4s"></div>
                    </div>

                    <!-- Hero Section -->
                    <div class="relative min-h-screen flex items-center justify-center px-4 py-20">
                        <div class="max-w-6xl mx-auto grid grid-cols-1 lg:grid-cols-2 gap-12 items-center">
                            <!-- Left Side -->
                            <div class="text-white space-y-8 z-10 float-animation">
                                <div class="inline-flex items-center gap-2 glass px-4 py-2 rounded-full">
                                    <span class="text-yellow-300">✨</span>
                                    <span class="text-sm font-medium">AI-Powered Financial Assistant</span>
                                </div>
                                
                                <h1 class="text-5xl md:text-6xl font-bold leading-tight">
                                    Welcome to Your
                                    <span class="block bg-gradient-to-r from-yellow-300 via-pink-300 to-purple-300 text-transparent bg-clip-text">
                                        Personal Finance Assistant!
                                    </span>
                                </h1>
                                
                                <p class="text-xl text-gray-300 leading-relaxed">
                                    Track your expenses easily and efficiently. Get smart insights, budget recommendations, and take control of your financial future.
                                </p>

                                <div class="flex flex-wrap gap-4">
                                    <div class="flex items-center gap-2 text-gray-300">
                                        <div class="w-8 h-8 bg-green-500/20 rounded-full flex items-center justify-center">
                                            <span class="text-green-400">✓</span>
                                        </div>
                                        <span>Real-time Tracking</span>
                                    </div>
                                    <div class="flex items-center gap-2 text-gray-300">
                                        <div class="w-8 h-8 bg-green-500/20 rounded-full flex items-center justify-center">
                                            <span class="text-green-400">✓</span>
                                        </div>
                                        <span>Smart Insights</span>
                                    </div>
                                    <div class="flex items-center gap-2 text-gray-300">
                                        <div class="w-8 h-8 bg-green-500/20 rounded-full flex items-center justify-center">
                                            <span class="text-green-400">✓</span>
                                        </div>
                                        <span>Budget Planning</span>
                                    </div>
                                </div>
                            </div>

                            <!-- Right Side - Auth Form -->
                            <div class="glass rounded-3xl p-8 shadow-2xl z-10">
                                <div class="text-center mb-8">
                                    <div class="inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-yellow-400 to-pink-500 rounded-2xl mb-4 shadow-lg">
                                        <span class="text-3xl">💰</span>
                                    </div>
                                    <h2 class="text-3xl font-bold text-white mb-2">
                                        ${state.showLogin ? 'Welcome Back!' : 'Join Us Today'}
                                    </h2>
                                    <p class="text-gray-300">
                                        ${state.showLogin ? 'Sign in to continue your journey' : 'Create your free account'}
                                    </p>
                                </div>

                                <div class="flex gap-2 mb-6 bg-white/5 p-1 rounded-xl">
                                    <button
                                        onclick="state.showLogin = true; render();"
                                        class="flex-1 py-3 rounded-lg font-semibold transition-all duration-300 ${
                                            state.showLogin 
                                                ? 'bg-gradient-to-r from-pink-500 to-purple-600 text-white shadow-lg' 
                                                : 'text-gray-300 hover:text-white'
                                        }"
                                    >
                                        Login
                                    </button>
                                    <button
                                        onclick="state.showLogin = false; render();"
                                        class="flex-1 py-3 rounded-lg font-semibold transition-all duration-300 ${
                                            !state.showLogin 
                                                ? 'bg-gradient-to-r from-pink-500 to-purple-600 text-white shadow-lg' 
                                                : 'text-gray-300 hover:text-white'
                                        }"
                                    >
                                        Sign Up
                                    </button>
                                </div>

                                ${state.showLogin ? `
                                    <div class="space-y-4">
                                        <div>
                                            <label class="block text-sm font-medium text-gray-300 mb-2">Email Address</label>
                                            <input
                                                id="loginEmail"
                                                type="email"
                                                class="w-full px-4 py-3 bg-white/10 border border-white/20 rounded-xl text-white placeholder-gray-400 focus:ring-2 focus:ring-pink-500 focus:border-transparent transition"
                                                placeholder="demo@example.com"
                                            />
                                        </div>
                                        <div>
                                            <label class="block text-sm font-medium text-gray-300 mb-2">Password</label>
                                            <input
                                                id="loginPassword"
                                                type="password"
                                                class="w-full px-4 py-3 bg-white/10 border border-white/20 rounded-xl text-white placeholder-gray-400 focus:ring-2 focus:ring-pink-500 focus:border-transparent transition"
                                                placeholder="••••••••"
                                            />
                                        </div>
                                        <button
                                            onclick="handleLogin()"
                                            class="w-full bg-gradient-to-r from-pink-500 to-purple-600 text-white py-4 rounded-xl font-semibold hover:shadow-2xl hover:scale-105 transition-all duration-300"
                                        >
                                            Sign In
                                        </button>
                                    </div>
                                ` : `
                                    <div class="space-y-4">
                                        <div>
                                            <label class="block text-sm font-medium text-gray-300 mb-2">Full Name</label>
                                            <input
                                                id="signupName"
                                                type="text"
                                                class="w-full px-4 py-3 bg-white/10 border border-white/20 rounded-xl text-white placeholder-gray-400 focus:ring-2 focus:ring-pink-500 focus:border-transparent transition"
                                                placeholder="John Doe"
                                            />
                                        </div>
                                        <div>
                                            <label class="block text-sm font-medium text-gray-300 mb-2">Email Address</label>
                                            <input
                                                id="signupEmail"
                                                type="email"
                                                class="w-full px-4 py-3 bg-white/10 border border-white/20 rounded-xl text-white placeholder-gray-400 focus:ring-2 focus:ring-pink-500 focus:border-transparent transition"
                                                placeholder="john@example.com"
                                            />
                                        </div>
                                        <div>
                                            <label class="block text-sm font-medium text-gray-300 mb-2">Password</label>
                                            <input
                                                id="signupPassword"
                                                type="password"
                                                class="w-full px-4 py-3 bg-white/10 border border-white/20 rounded-xl text-white placeholder-gray-400 focus:ring-2 focus:ring-pink-500 focus:border-transparent transition"
                                                placeholder="Create a strong password"
                                            />
                                        </div>
                                        <button
                                            onclick="handleSignup()"
                                            class="w-full bg-gradient-to-r from-pink-500 to-purple-600 text-white py-4 rounded-xl font-semibold hover:shadow-2xl hover:scale-105 transition-all duration-300"
                                        >
                                            Create Account
                                        </button>
                                    </div>
                                `}
                            </div>
                        </div>
                    </div>

                    <!-- Features Section -->
                    <div class="relative py-20 px-4">
                        <div class="max-w-6xl mx-auto">
                            <div class="text-center mb-16">
                                <h2 class="text-4xl font-bold text-white mb-4">Powerful Features</h2>
                                <p class="text-gray-300 text-lg">Everything you need to manage your finances</p>
                            </div>

                            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
                                <div class="glass p-6 rounded-2xl hover:scale-105 transition-all duration-300">
                                    <div class="text-4xl mb-4">🎯</div>
                                    <h3 class="text-xl font-bold text-white mb-2">Expense Tracking</h3>
                                    <p class="text-gray-300">Track all expenses with ease</p>
                                </div>
                                <div class="glass p-6 rounded-2xl hover:scale-105 transition-all duration-300">
                                    <div class="text-4xl mb-4">📊</div>
                                    <h3 class="text-xl font-bold text-white mb-2">Budget Planning</h3>
                                    <p class="text-gray-300">Plan monthly budget effectively</p>
                                </div>
                                <div class="glass p-6 rounded-2xl hover:scale-105 transition-all duration-300">
                                    <div class="text-4xl mb-4">✨</div>
                                    <h3 class="text-xl font-bold text-white mb-2">Financial Tips</h3>
                                    <p class="text-gray-300">Get expert saving advice</p>
                                </div>
                                <div class="glass p-6 rounded-2xl hover:scale-105 transition-all duration-300">
                                    <div class="text-4xl mb-4">📈</div>
                                    <h3 class="text-xl font-bold text-white mb-2">Data Analytics</h3>
                                    <p class="text-gray-300">Analyze spending patterns</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Testimonials -->
                    <div class="relative py-20 px-4">
                        <div class="max-w-4xl mx-auto">
                            <div class="text-center mb-16">
                                <h2 class="text-4xl font-bold text-white mb-4">User Testimonials</h2>
                                <p class="text-gray-300 text-lg">See what our users say</p>
                            </div>

                            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                                <div class="glass p-8 rounded-2xl">
                                    <div class="flex gap-1 mb-4">
                                        <span class="text-yellow-400">⭐⭐⭐⭐⭐</span>
                                    </div>
                                    <p class="text-white text-lg mb-4 italic">"This app has changed the way I manage my finances!"</p>
                                    <p class="text-gray-300 font-semibold">- User A</p>
                                </div>
                                <div class="glass p-8 rounded-2xl">
                                    <div class="flex gap-1 mb-4">
                                        <span class="text-yellow-400">⭐⭐⭐⭐⭐</span>
                                    </div>
                                    <p class="text-white text-lg mb-4 italic">"I saved so much money after using this app!"</p>
                                    <p class="text-gray-300 font-semibold">- User B</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            `;
        }

        function renderDashboard() {
            const total = getTotalExpenses();
            const topCategory = state.expenses.length > 0 
                ? categories.reduce((max, cat) => getCategoryTotal(cat) > getCategoryTotal(max) ? cat : max, categories[0])
                : 'N/A';
            const suggestions = getSmartSuggestions();

            return `
                <div class="min-h-screen bg-gray-50">
                    <!-- Header -->
                    <div class="bg-white shadow-sm border-b">
                        <div class="max-w-7xl mx-auto px-4 py-4 flex justify-between items-center">
                            <div class="flex items-center gap-3">
                                <div class="w-10 h-10 bg-gradient-to-br from-pink-500 to-purple-600 rounded-full flex items-center justify-center">
                                    <span class="text-white text-xl">💰</span>
                                </div>
                                <div>
                                    <h1 class="text-xl font-bold text-gray-800">Smart Expense Tracker</h1>
                                    <p class="text-sm text-gray-600">Welcome, ${state.user.name}</p>
                                </div>
                            </div>
                            <button
                                onclick="handleLogout()"
                                class="flex items-center gap-2 px-4 py-2 text-gray-600 hover:text-gray-800 transition"
                            >
                                <span>Logout</span>
                            </button>
                        </div>
                    </div>

                    <div class="max-w-7xl mx-auto px-4 py-8">
                        <!-- Summary Cards -->
                        <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
                            <div class="bg-gradient-to-br from-pink-500 to-purple-600 rounded-xl shadow-lg p-6 text-white">
                                <h3 class="font-medium mb-2">Total Expenses</h3>
                                <p class="text-4xl font-bold">$${total.toFixed(2)}</p>
                                <p class="text-sm opacity-90 mt-1">This month</p>
                            </div>
                            <div class="bg-gradient-to-br from-green-500 to-teal-600 rounded-xl shadow-lg p-6 text-white">
                                <h3 class="font-medium mb-2">Transactions</h3>
                                <p class="text-4xl font-bold">${state.expenses.length}</p>
                                <p class="text-sm opacity-90 mt-1">Total entries</p>
                            </div>
                            <div class="bg-gradient-to-br from-orange-500 to-red-600 rounded-xl shadow-lg p-6 text-white">
                                <h3 class="font-medium mb-2">Top Category</h3>
                                <p class="text-4xl font-bold">${topCategory}</p>
                                <p class="text-sm opacity-90 mt-1">$${getCategoryTotal(topCategory).toFixed(2)}</p>
                            </div>
                        </div>

                        ${suggestions.length > 0 ? `
                            <div class="bg-gradient-to-r from-orange-50 to-red-50 border-l-4 border-orange-500 rounded-xl p-6 mb-8 shadow-md">
                                <h3 class="text-lg font-bold text-gray-800 mb-4 flex items-center gap-2">
                                    <span>⚠️</span>
                                    Smart Insights
                                </h3>
                                <div class="space-y-2">
                                    ${suggestions.map(s => `
                                        <div class="flex items-start gap-2 text-gray-700">
                                            <span class="text-orange-600">•</span>
                                            <p>${s}</p>
                                        </div>
                                    `).join('')}
                                </div>
                            </div>
                        ` : ''}

                        <!-- Add Expense Button -->
                        <div class="flex justify-between items-center mb-6">
                            <h2 class="text-2xl font-bold text-gray-800">Recent Transactions</h2>
                            <button
                                onclick="state.showAddExpense = true; render();"
                                class="flex items-center gap-2 bg-gradient-to-r from-pink-500 to-purple-600 text-white px-6 py-3 rounded-lg font-semibold hover:shadow-lg hover:scale-105 transition-all duration-300"
                            >
                                <span>+</span>
                                Add Expense
                            </button>
                        </div>

                        ${state.showAddExpense ? `
                            <div class="bg-white rounded-xl shadow-lg p-6 mb-6 border-t-4 border-purple-500">
                                <h3 class="text-lg font-bold text-gray-800 mb-4">Add New Expense</h3>
                                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700 mb-2">Amount ($)</label>
                                        <input
                                            id="expenseAmount"
                                            type="number"
                                            step="0.01"
                                            class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent transition"
                                        />
                                    </div>
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700 mb-2">Category</label>
                                        <select
                                            id="expenseCategory"
                                            class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent transition"
                                        >
                                            ${categories.map(cat => `<option value="${cat}">${cat}</option>`).join('')}
                                        </select>
                                    </div>
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700 mb-2">Date</label>
                                        <input
                                            id="expenseDate"
                                            type="date"
                                            value="${new Date().toISOString().split('T')[0]}"
                                            class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent transition"
                                        />
                                    </div>
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700 mb-2">Description</label>
                                        <input
                                            id="expenseDescription"
                                            type="text"
                                            class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent transition"
                                        />
                                    </div>
                                    <div class="md:col-span-2 flex gap-3">
                                        <button
                                            onclick="handleAddExpense()"
                                            class="flex-1 bg-gradient-to-r from-pink-500 to-purple-600 text-white py-2 rounded-lg font-semibold hover:shadow-lg transition-all"
                                        >
                                            Add Expense
                                        </button>
                                        <button
                                            onclick="state.showAddExpense = false; render();"
                                            class="flex-1 bg-gray-200 text-gray-700 py-2 rounded-lg font-semibold hover:bg-gray-300 transition"
                                        >
                                            Cancel
                                        </button>
                                    </div>
                                </div>
                            </div>
                        ` : ''}

                        <!-- Expenses Table -->
                        <div class="bg-white rounded-xl shadow-md overflow-hidden">
                            ${state.expenses.length > 0 ? `
                                <div class="overflow-x-auto">
                                    <table class="w-full">
                                        <thead class="bg-gradient-to-r from-purple-50 to-pink-50 border-b">
                                            <tr>
                                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Date</th>
                                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Category</th>
                                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Description</th>
                                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Amount</th>
                                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Actions</th>
                                            </tr>
                                        </thead>
                                        <tbody class="divide-y divide-gray-200">
                                            ${state.expenses.sort((a, b) => new Date(b.date) - new Date(a.date)).map(expense => `
                                                <tr class="hover:bg-purple-50 transition">
                                                    <td class="px-6 py-4 text-sm text-gray-700">${expense.date}</td>
                                                    <td class="px-6 py-4">
                                                        <span 
                                                            class="px-3 py-1 rounded-full text-xs font-semibold text-white"
                                                            style="background-color: ${categoryColors[expense.category]}"
                                                        >
                                                            ${expense.category}
                                                        </span>
                                                    </td>
                                                    <td class="px-6 py-4 text-sm text-gray-700">${expense.description}</td>
                                                    <td class="px-6 py-4 text-sm font-semibold text-gray-900">$${expense.amount.toFixed(2)}</td>
                                                    <td class="px-6 py-4">
                                                        <button
                                                            onclick="handleDeleteExpense(${expense.id})"
                                                            class="text-red-600 hover:text-red-800 transition"
                                                        >
                                                            Delete
                                                        </button>
                                                    </td>
                                                </tr>
                                            `).join('')}
                                        </tbody>
                                    </table>
                                </div>
                            ` : `
                                <div class="p-12 text-center">
                                    <p class="text-5xl mb-4">💰</p>
                                    <p class="text-gray-500 text-lg">No expenses yet. Start tracking!</p>
                                </div>
                            `}
                        </div>
                    </div>
                </div>
            `;
        }

        function render() {
            const app = document.getElementById('app');
            app.innerHTML = state.isLoggedIn ? renderDashboard() : renderLandingPage();
        }

        // Initial Render
        render();
    </script>
</body>
</html>
